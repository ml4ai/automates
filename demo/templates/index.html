<html>
  {% include "head.html" %}
  <body class="theme-base-08">
    <div class="container-fluid"> 
        <div class="row border-bottom"
          style="padding-top: 2rem; padding-left:4rem; padding-bottom: 1rem;">
            <h1>AutoMATES CodeExplorer</h1>
        </div>
      <div class="row justify-content-md-center" style="padding-top: 1.5rem; padding-left:3rem; padding-right: 4rem;">
      {% include "about.html" %}
      <div class="col-3">
		<div class="dropdown">
		  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button"
				  id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
				  aria-expanded="false">
			Choose model
		  </button>
		  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			<a id="cropYield" class="dropdown-item" href="#">Crop Yield</a>
			<a id="petPT" class="dropdown-item" href="#">Priestley-Taylor model of Evapotranspiration (DSSAT)</a>
		  </div>
		</div>
        <form method="POST" action="{{ url_for('processCode') }}">
          <textarea id="flask-codemirror-source_code" name="source_code"></textarea>
          <script>
            $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
            var editor_for_source_code = CodeMirror.fromTextArea(
            document.getElementById('flask-codemirror-source_code'), {
                  "lineNumbers": "true",
                  "viewportMargin": 800,
                  "mode": "fortran"
              }
            );
            $("#cropYield").click(function(){
              editor_for_source_code.getDoc().setValue(`{% include "example_programs/cropYield.f" %}`);
            });
            $("#petPT").click(function(){
              editor_for_source_code.getDoc().setValue(`{% include "example_programs/petPT.f" %}`);
            });
		  </script>
          <br>
          <input type="submit" value="Submit" class="btn btn-outline-primary btn-sm">
        </form>
      </div>
      {% include "viewpane.html" %}
      <script> {% include "cyjs.js" %} </script>
  </body>
</html>
