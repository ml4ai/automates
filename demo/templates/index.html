<html>
  {% include "head.html" %}
  <body>
    <div class="container"> 
      <div class="row justify-content-md-center border" style="padding: 10px;">
        <h1>AutoMATES Demo</h1>
          <br>
      </div>
      <div class="row justify-content-md-left">
        <div class="col border" style="padding: 10px">
          <p>Input Fortran code in the code editor area below (for two examples
          that have been tested with this webapp, see the following (you can
          just copy and paste the code into the editor) and hit the 'Submit'
          button:<p>
          <ul>
            <li>
              <a href="https://raw.githubusercontent.com/ml4ai/delphi/master/tests/data/crop_yield.f">crop_yield.f: </a>
              A toy example of a crop yield model that contains some important
              representative Fortran features for control flow like for-loops
              and conditional statements. 
            </li>
            <li>
              <a href="https://raw.githubusercontent.com/ml4ai/delphi/master/tests/data/PETPT.for">PETPT.for:</a>
              A 'real-world' example of a model - this is the Priestley-Taylor
              model of Potential Evapotranspiration, as implemented in the 
              <a href="https://dssat.net">DSSAT</a>
              crop model.
            </li>
          </ul>
        </div>
        <div class="col" style="padding: 10px">
          Things you can try doing:
          <ul>
            <li>Click on the __assign__ nodes to view the equation that is
              automatically constructed from the code, and typeset with LaTeX.</li>
            <li>Rename a variable in the code and resubmit it for processing
              (make sure to rename all instances of it in the code!)
          <ul>
        </div>
      </div>
      <div class="row justify-content-md-center border">
        <div class="col-sm-4 border">
          <form method="POST" action="/processCode">
            {{ form.source_code }}
            <input type="submit" value="Submit">
          </form>
        </div>
        <div id="col2" class="col-sm-8 border">
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="cy1-tab" data-toggle="tab" 
                href="#cy1" role="tab" aria-controls="cy1" 
                aria-selected="true">Computational Graph View</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="cy2-tab" data-toggle="tab" 
                href="#cy2" role="tab" aria-controls="cy2" 
                aria-selected="true">Causal Analysis Graph View</a>
            </li>
          </ul>
          <div class="tab-content">
            <div id="cy1" role="tabpanel" class="tab-pane show active"
              aria-labelledby="cy1-tab" style="height:90%;">.</div>
            <div id="cy2" role="tabpanel" class="tab-pane"
              aria-labelledby="cy2-tab" style="height:90%;">.</div>
          </div>
        </div>
      </div>
    </div>
      <script> {% include "cyjs.js" %} </script>
  </body>
</html>
