vars: org/clulab/aske_automates/grammars/vars.yml

rules:

## TODO: coreferencing (the model, our model, this, it...) needs to be addressed.
## TODO: expansionHandler needs to be adjusted to fit these cases.

# This rule is not complete. Description part needs to be adjusted.
  - name: model_suggests
    label: ModelDescr
    priority: ${priority}
    type: token
    action: ${action}
    example: "The model also suggests that there might exist a SARS precursor in a large reservoir, prompting for implementation of precautionary measures when the weather cools down."
    pattern: |
      @model:Model [word = "also"]? (?<trigger> [lemma = /suggest/]) [word = /that/] (?<modelDescr> [word = /.*/]+) "."

  - name: model_cannot
    label: ModelDescr
    priority: ${priority}
    type: token
    action: ${action}
    example: "we show first that the standard Susceptible-Infected-Removed (SIR) model cannot account for the patterns observed in various regions where the disease spread."
    pattern: |
      @model:Model (?<trigger> [word = "cannot"]) (?<modelDescr> [chunk = /B-VP/] (${PP+NP} [tag = /VBN/] ${PP+NP} [word = "where"] [chunk = /B-NP|I-NP/]+ [chunk = /B-VP/|word = "spread"])?)

  - name: model_limitation
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "The major limitation of MWSWAT was its reduced capability in larger water-sheds."
    pattern: |
      trigger = [lemma = "limitation"] (?= "of")
      model:Model = nmod_of
      modelDescr:Phrase = <nsubj

  - name: model_not_verb
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "The major limitation of MWSWAT was its reduced capability in larger water-sheds."
    pattern: |
      trigger = [word = "not"] (?= [lemma = /hold/])
      model:Model = <neg nsubj
      modelDescr:Phrase = <neg

  - name: model_cop
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "The Soil and Water Assessment Tool (SWAT) model is a robust watershed modeling tool."
    pattern: |
      trigger = [lemma = "be"]
      model:Model = <cop nsubj
      modelDescr:Phrase = <cop

  - name: model_predict
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "SWAT incorporates a simple empirical model to predict the trophic status of water bodies."
    pattern: |
      trigger = [lemma = /predict|understand|investigate/]
      model:Model = <acl_to <dobj nsubj | nsubj:xsubj (<dobj <xcomp (<acl:relcl | <nsubjpass))? | nsubj
      modelDescr:Phrase = dobj

    # how do we know if "This" is referencing to a model?
  - name: model_allows_for
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "This allows for more realistic simulation of the soil water profile and application of excess irrigation for leaching salts."
    pattern: |
      trigger = [lemma = "allow"]
      model:Phrase = nsubj (nmod_in)?
      modelDescr:Phrase+ = nmod_for | dobj

  - name: model_contributes_to
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "It also contributes to understanding complex ecosystems as well as water availability, water quality, climate change, and agricultural production issues across the world"
    pattern: |
      trigger = [lemma = "contribute"]
      model:Model = nsubj
      modelDescr:Phrase+ = advcl_to

  - name: model_capability
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "QSWAT has added capabilities of merging small subbasins and has static and dynamic visualizations of outputs."
    pattern: |
      trigger = [lemma = "capability"]
      model:Model = <dobj? nsubj
      modelDescr:Phrase+ = acl_of | acl_to

  - name: model_can_verb
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "QSWAT can also show the total, daily, monthly orannual means, maxima and minima for reach and subbasin out-puts."
    pattern: |
      trigger = [lemma = "can"]
      model:Model = <aux nsubj
      modelDescr:Phrase+ = <aux

  - name: model_useful_to
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "Our model would then be useful to enforce proper precautionary measures immediately."
    pattern: |
      trigger = [lemma = "useful"] (?= "to")
      model:Model = nsubj
      modelDescr:Phrase+ = xcomp

  - name: model_consist_of
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "A high-resolution SWAT model, consisting of sub-field level hydrologic response units, was applied to Lake Champlain’s Missisquoi Bay Watershed, located along the United States–Canadian border."
    pattern: |
      trigger = [lemma = "consist"] (?= "of")
      model:Model = <acl
      modelDescr:Phrase = nmod_of

  - name: modelPurpose
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "It was developed to predict the impact of land management practices on water, sediment and agricultural chemical yields (e.g., fertilizer and pesticides) in large complex watersheds with varying soils, land uses and management conditions over long periods of time."
    pattern: |
      trigger = [word = /developed|designed/] (?=[word = /^to$|^for$/])
      model:Model = nsubjpass | <acl nsubj
      modelDescr:Phrase = xcomp

  - name: modelLanguageInfo
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "It was developed to predict the impact of land management practices on water, sediment and agricultural chemical yields (e.g., fertilizer and pesticides) in large complex watersheds with varying soils, land uses and management conditions over long periods of time."
    pattern: |
      trigger = [word = /written|implemented/] (?=[word = /^in$/])
      model:Model = nsubjpass
      modelDescr:Phrase+ = nmod_in

  - name: modelOffers
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "Our model also offers an opportunity to further decompose the different contributions to annual price variability."
    pattern: |
      trigger = [lemma = /offer|provide/]
      model:Model = nsubj (compound)?
      modelDescr:Phrase = dobj

  - name: modelCharacteristic
    label: ModelDescr
    priority: ${priority}
    type: dependency
    action: ${action}
    example: "A main characteristic of our model is that the supply function refers not only to current production, but includes supply from storage."
    pattern: |
      trigger = [word = "characteristic"]
      model:Model = nmod_of
      modelDescr:Phrase+ = <nsubj ccomp
