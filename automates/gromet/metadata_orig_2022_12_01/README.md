## Instructions

The contents of this directory can be autogenerated using the script 
scripts/swagger/codegen_swagger_models.py

### [Legacy Details]

[2022-09-09: The following notes are being kept (for the time being) as they 
describe the starting point for the design of the codegen_swagger_models.py 
script, although these will eventually become out of date.]

The contents of this directory are autogenerated using the swagger-codegen. 
See the instructions in the description at the top of the `gromet_metadata_v
{CURRENT_VERSION}`, which can be found here:
- https://ml4ai.github.io/automates-v2/

After following steps 1-3 in the above instructions, you will now have a 
directory named `$OUTPUT_PATH` (in the instructions, this directory is 
named `client`) that contains the full implementation of the 
swagger-generated client code. We are only interested in the generated data 
model classes. The Python classes are located here: 
`$OUTPUT_PATH/swagger_client/models/`

To update the SKEMA (AutoMATES) GroMEt Metadata schema data model, do the 
following:

1. Place all the generated python files under 
   `$OUTPUT_PATH/swagger_client/models/` into _this_ directory, i.e.:
   `<AutoMATES>/automates/model_assembly/gromet/model/`
   Doing so will overwrite any matching files already in this directory.

2. When the data model code was autogenerated, swagger assumed the code 
   is in the context of swagger_client.models python path. Because we are 
   moving just the data models to a new context, this means that for module 
   inheritance we need to manually fix the module paths. In particular, the 
   import line:
      ```
      from swagger_client.models.metadata import Metadata
      ```
   must be changed to:
      ```
      from automates.model_assembly.gromet.metadata.metadata import Metadata
      ```
   This change must be made manually for any file that import the Metadata 
   module. This includes (as of v0.1.0) the following files:
   - `code_collection.py`
   - `equation_definition.py`
   - `equation_parameter.py`
   - `gromet_creation.py`
   - `source_code_data_type.py`
   - `source_code_reference.py`
   - `text_definition.py`
   - `text_parameter.py`
   - `textual_document_collection.py`

4. After copying over data models files, you can now delete `$OUTPUT_PATH` 
   directory tree (e.g.: `$ rm -rf client`).
   And if you are updating the metadata model in the master, you can add, 
   commit, push the updated metadata model files.

