<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width">
  
  <link rel="stylesheet" href="static/css/style.css">
  
  <title>MathJax v3: TeX input and MathML output</title>
  
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/xml-formatter@2.1.0/dist/browser/xml-formatter.js"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>

  <script src="static/js/setup.js"></script>

</head>
<body>
  <table>
    <thead>
      <tr><th width=400>LaTeX</th><th>Equation</th><th width=500>MathML</th></tr>
    </thead>
  </table>
</body>

<script>

let latex_source = [
  { src: "P(E) = {n \\choose k} p^k (1-p)^{ n-k}" },
  { src: "\\begin{align} \\dot{x} \& = \\sigma(y-x) \\\\ \\dot{y} \& = \\rho x - y - xz \\\\ \\dot{z} \& = -\\beta z + xy \\end{align}" },
  { src: "\\left( \\sum_{k=1}^n a_k b_k \\right)^{\\!\\!2} \\leq \\left( \\sum_{k=1}^n a_k^2 \\right) \\left( \\sum_{k=1}^n b_k^2 \\right)" },
  { src: "\\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} \& \\mathbf{j} \& \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} \& \\frac{\\partial Y}{\\partial u} \& 0 \\\\ \\frac{\\partial X}{\\partial v} \& \\frac{\\partial Y}{\\partial v} \& 0 \\\\ \\end{vmatrix}" },
  { src: "\\DeclareMathOperator*{\\argmax}{arg\\,max} \\argmax_{i} (x) = \\left\\{ \\begin{array}{ll} 1 \& \\text{if } x_i = \\max_i(x) \\\\ 0 \& \\text{otherwise} \\end{array} \\right." },
  // { src: "\\begin{vmatrix} \\mathbf{i} \& \\mathbf{j} \& \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} \& \\frac{\\partial Y}{\\partial u} \& 0 \\\\ \\frac{\\partial X}{\\partial v} \& \\frac{\\partial Y}{\\partial v} \& 0 \\\\ \\end{vmatrix}" }
];

function generateTable(table, data) {
  let i = 0;
  for (let element of data) {
    let row = table.insertRow();
    
    let cell = row.insertCell();
    cell.id = `tex_src_${i}`;
    let text = document.createTextNode(`\\[ ${element["src"]} \\]`);
    cell.appendChild(text);
    
    // mml = MathJax.startup.toMML(element["src"]);
    // console.log(mml);
    
    cell = row.insertCell();
    cell.id = `mml_img_${i}`;
    text = document.createTextNode(`${cell.id} IMAGE`);
    cell.appendChild(text);
    
    cell = row.insertCell();
    cell.id = `mml_src_${i}`;
    text = document.createTextNode(`${cell.id} SOURCE`);
    cell.appendChild(text);
    
    i++;
  }
}

let table = document.querySelector("table");
generateTable(table, latex_source);

</script>

</html>
